function worldSetRegions(){let e=.025*(World.viewWidth>World.viewHeight?World.viewHeight:World.viewWidth),n=World.viewWidth<=World.viewHeight;if(!isVerticalMode()){World.regionIntroIcon[0]=.25*World.viewWidth,World.regionIntroIcon[1]=e,World.regionIntroIcon[2]=World.viewWidth-2*World.regionIntroIcon[0],World.regionIntroIcon[3]=.68*World.viewHeight-2*e,World.regionIntroGem[0]=e,World.regionIntroGem[1]=e,World.regionIntroGem[2]=World.regionIntroIcon[0]-2*e,World.regionIntroGem[3]=World.viewHeight-2*e,World.regionIntroMenu[0]=World.regionIntroIcon[0],World.regionIntroMenu[1]=World.regionIntroIcon[1]+World.regionIntroIcon[3],World.regionIntroMenu[2]=World.regionIntroIcon[2],World.regionIntroMenu[3]=World.viewHeight-World.regionIntroMenu[1]-e,World.regionMap[0]=0,World.regionMap[1]=0,World.regionMap[2]=.53*World.viewWidth,World.regionMap[3]=World.viewHeight,World.regionMenu[0]=World.regionMap[2]+e,World.regionMenu[1]=e,World.regionMenu[2]=World.viewWidth-2*e-World.regionMap[2];let i=.09*World.viewWidth;World.regionMenu[3]=Math.min(i,.15*World.regionMenu[2]);let o=Math.min(.1*(World.regionMap[2]-3*e),.8*i)+e,r=World.regionMenu[0]+World.regionMenu[2]+e,g=World.viewWidth-r-e;if(World.regionScore[0]=World.regionMenu[0],World.regionScore[1]=World.regionMenu[1]+World.regionMenu[3],World.regionScore[3]=o,World.regionScore[2]=World.regionMenu[2]-e-World.regionScore[3],World.regionHand[0]=World.regionMap[0]+World.regionMap[2],World.regionHand[1]=e+World.regionMenu[3]+World.regionScore[3],World.regionHand[2]=World.regionMenu[2]+e,World.regionHand[3]=World.viewHeight-World.regionHand[1],World.viewHeight>World.viewWidth-(World.regionMap[0]+World.regionMap[2])){World.regionBrickBot[1]=0,World.regionBrickBot[3]=World.viewHeight;let t=.5*(World.regionMap[0]+World.regionMap[2]+World.viewWidth);World.regionBrickBot[0]=t-.5*World.regionBrickBot[3],World.regionBrickBot[2]=World.regionBrickBot[3]}else World.regionBrickBot[0]=World.regionMap[0]+World.regionMap[2],World.regionBrickBot[2]=World.viewWidth-World.regionBrickBot[0],World.regionBrickBot[1]=.5*World.viewHeight-.5*World.regionBrickBot[2],World.regionBrickBot[3]=World.regionBrickBot[2];textnameToRegion[Textname.endCheckFail.name][0]=r,textnameToRegion[Textname.endCheckFail.name][1]=World.regionHand[1]+.75*World.regionHand[3],textnameToRegion[Textname.endCheckFail.name][2]=g/3,textnameToRegion[Textname.endCheckFail.name][3]=.25*World.regionHand[3],World.regionBrickTop[2]=0,World.regionBrickTop[3]=0,setXYZSXSYFromRegionAndZ(World.dobBrickTop,World.regionBrickTop,BRICK_Z),setXYZSXSYFromRegionAndZ(World.dobDisplayShade,World.regionMap,SHADE_Z);let a=[World.regionHand[0],0,World.viewWidth-World.regionHand[0],World.viewHeight];setXYZSXSYFromRegionAndZ(World.dobDisplayMenuShade,a,SHADE_Z)}if(isVerticalMode()){World.regionIntroGem[0]=e,World.regionIntroGem[1]=e,World.regionIntroGem[2]=World.viewWidth-2*e,World.regionIntroGem[3]=.17*World.viewHeight,World.regionIntroIcon[0]=e,World.regionIntroIcon[1]=World.regionIntroGem[3]+2*e,World.regionIntroIcon[2]=World.viewWidth-2*e,World.regionIntroIcon[3]=.36*World.viewHeight,World.regionIntroMenu[0]=e,World.regionIntroMenu[1]=World.regionIntroIcon[1]+World.regionIntroIcon[3],World.regionIntroMenu[2]=World.viewWidth-2*e,World.regionIntroMenu[3]=World.viewHeight-4*e-2*World.regionIntroGem[3]-World.regionIntroIcon[3],World.regionIntroMenu[3]*=.85,World.regionMenu[0]=e,World.regionMenu[1]=e,World.regionMenu[2]=1*World.viewWidth-2*e;let $=.09*World.viewHeight;World.regionMenu[3]=Math.min($,.15*World.regionMenu[2]),World.regionScore[0]=e,World.regionScore[1]=World.regionMenu[3]+e;let d=.8*$;if(World.regionScore[3]=Math.min(.1*World.viewWidth,d)+e,World.regionScore[2]=World.viewWidth-2*e-d,World.regionMap[0]=0,World.regionMap[1]=World.regionScore[1]+World.regionScore[3],World.regionMap[2]=1*World.viewWidth,World.regionMap[3]=.5*World.viewHeight-.3*World.regionMenu[3],World.viewHeight-(World.regionMap[1]+World.regionMap[3])>World.viewWidth)World.regionBrickBot[1]=World.regionMap[1]+World.regionMap[3],World.regionBrickBot[3]=World.viewHeight-World.regionBrickBot[1],World.regionBrickBot[0]=.5*World.viewWidth-.5*World.regionBrickBot[3],World.regionBrickBot[2]=World.regionMap[3];else{World.regionBrickBot[0]=0,World.regionBrickBot[2]=World.viewWidth;let c=.5*(World.viewHeight+World.regionMap[1]+World.regionMap[3]);World.regionBrickBot[1]=c-.5*World.regionBrickBot[2],World.regionBrickBot[3]=World.regionBrickBot[2]}World.regionBrickTop[2]=World.viewWidth,World.regionBrickTop[1]=.5*World.regionMap[1]-.5*World.regionBrickTop[2],World.regionBrickTop[3]=World.regionBrickTop[2];let M=World.regionBrickTop[1]+World.regionBrickTop[3]-(World.regionMap[1]+World.regionMap[3]);M>0&&(World.regionBrickTop[1]-=3+M),setXYZSXSYFromRegionAndZ(World.dobBrickTop,World.regionBrickTop,BRICK_Z+.1),World.regionHand[0]=0,World.regionHand[1]=World.regionMap[1]+World.regionMap[3],World.regionHand[2]=World.viewWidth,World.regionHand[3]=World.viewHeight-World.regionHand[1]-e,textnameToRegion[Textname.endCheckFail.name][0]=World.regionHand[0],textnameToRegion[Textname.endCheckFail.name][1]=World.regionHand[1]+.63*World.regionHand[3],textnameToRegion[Textname.endCheckFail.name][2]=World.regionHand[2],textnameToRegion[Textname.endCheckFail.name][3]=.24*World.regionHand[3];let _=[0,0,World.viewWidth,World.regionScore[1]+World.regionScore[3]+World.regionMap[3]];setXYZSXSYFromRegionAndZ(World.dobDisplayShade,_,SHADE_Z);let u=[0,World.regionHand[1],World.viewWidth,World.viewHeight-World.regionHand[1]];setXYZSXSYFromRegionAndZ(World.dobDisplayMenuShade,u,SHADE_Z)}let h=World.viewWidth>World.viewHeight;for(let l of(World.regionFullSquare[0]=h?0:-.5*(World.viewHeight-World.viewWidth),World.regionFullSquare[1]=h?-.5*(World.viewWidth-World.viewHeight):0,World.regionFullSquare[2]=Math.max(World.viewHeight,World.viewWidth),World.regionFullSquare[3]=World.regionFullSquare[2],World.regionSettings[0]=World.regionMenu[0]+World.regionMenu[2]-World.regionMenu[3],World.regionSettings[1]=World.regionMenu[1],World.regionSettings[2]=World.regionMenu[3],World.regionSettings[3]=World.regionMenu[3],World.regionHome[0]=World.regionMenu[0],World.regionHome[1]=World.regionMenu[1],World.regionHome[2]=World.regionMenu[3],World.regionHome[3]=World.regionMenu[3],setXYZSXSYFromRegionAndZ(World.dobGlobe,World.regionHome,WIDGET_Z),setXYZSXSYFromRegionAndZ(World.dobBrickBot,World.regionBrickBot,BRICK_Z),World.regionTutMap[0]=World.regionMap[0],World.regionTutMap[1]=World.regionMap[1]+.33*World.regionMap[3],World.regionTutMap[2]=World.regionMap[2],World.regionTutMap[3]=.67*World.regionMap[3],World.regionFlag[0]=World.regionMenu[0]+1.1*World.regionMenu[3],World.regionFlag[1]=World.regionMenu[1],World.regionFlag[2]=World.regionMenu[3],World.regionFlag[3]=World.regionMenu[3],textnameToRegion[Textname.firstTap.name][0]=World.regionMap[0]+(n&&isVerticalMode()?.05:.18)*World.regionMap[2],textnameToRegion[Textname.firstTap.name][1]=World.regionMap[1]+.03*World.regionMap[3],textnameToRegion[Textname.firstTap.name][2]=World.regionMap[2]*(n&&isVerticalMode()?.9:.64),textnameToRegion[Textname.firstTap.name][3]=.27*World.regionMap[3],[Textname.firstColor,Textname.firstFinish,Textname.firstShape,Textname.firstSwap,Textname.firstDouble,Textname.rainbowTut,Textname.shapeshiftTut,Textname.match1,Textname.match2]))for(let H=0;H<4;H++)textnameToRegion[l.name][H]=textnameToRegion[Textname.firstTap.name][H];World.regionPickaxeInstruction[0]=World.regionHand[0]+.05*World.regionHand[2],World.regionPickaxeInstruction[1]=World.regionHand[1]+.15*World.regionHand[3],World.regionPickaxeInstruction[2]=.9*World.regionHand[2],World.regionPickaxeInstruction[3]=.3*World.regionHand[3],textnameToRegion[Textname.finishButton.name][0]=World.regionMenu[0]+1*World.regionMenu[3]*1.1,textnameToRegion[Textname.finishButton.name][1]=World.regionMenu[1]+.07*World.regionMenu[3],textnameToRegion[Textname.finishButton.name][2]=World.regionMenu[2]-2.2*World.regionMenu[3],textnameToRegion[Textname.finishButton.name][3]=.86*World.regionMenu[3],textnameToRegion[Textname.next_level.name][0]=World.regionHand[0],textnameToRegion[Textname.next_level.name][1]=World.regionHand[1]+.03*World.regionHand[3],textnameToRegion[Textname.next_level.name][2]=World.regionHand[2],textnameToRegion[Textname.next_level.name][3]=.44*World.regionHand[3],textnameToRegion[Textname.download.name][0]=World.regionHand[0],textnameToRegion[Textname.download.name][1]=World.regionHand[1]+.53*World.regionHand[3],textnameToRegion[Textname.download.name][2]=World.regionHand[2],textnameToRegion[Textname.download.name][3]=.44*World.regionHand[3],textnameToRegion[Textname.returnToLevels.name][0]=World.regionHand[0],textnameToRegion[Textname.returnToLevels.name][1]=World.regionHand[1]+.55*World.regionHand[3],textnameToRegion[Textname.returnToLevels.name][2]=World.regionHand[2],textnameToRegion[Textname.returnToLevels.name][3]=.2*World.regionHand[3],textnameToRegion[Textname.introPlay.name][0]=World.regionIntroMenu[0],textnameToRegion[Textname.introPlay.name][1]=World.regionIntroMenu[1],textnameToRegion[Textname.introPlay.name][2]=World.regionIntroMenu[2],textnameToRegion[Textname.introPlay.name][3]=.45*World.regionIntroMenu[3],textnameToRegion[Textname.introSettings.name][0]=World.regionIntroMenu[0],textnameToRegion[Textname.introSettings.name][1]=World.regionIntroMenu[1]+.55*World.regionIntroMenu[3],textnameToRegion[Textname.introSettings.name][2]=World.regionIntroMenu[2],textnameToRegion[Textname.introSettings.name][3]=.45*World.regionIntroMenu[3],textnameToRegion[Textname.endCheckFailMsg.name][0]=World.regionHand[0]+(n?.05:.22)*World.regionHand[2],textnameToRegion[Textname.endCheckFailMsg.name][1]=World.regionHand[1]+.025*World.regionHand[3],textnameToRegion[Textname.endCheckFailMsg.name][2]=World.regionHand[2]*(n?.9:.56),textnameToRegion[Textname.endCheckFailMsg.name][3]=.45*World.regionHand[3],textnameToRegion[Textname.thanksForPlaying.name][0]=World.regionPickaxeInstruction[0]+1*World.regionPickaxeInstruction[3],textnameToRegion[Textname.thanksForPlaying.name][1]=World.regionPickaxeInstruction[1]+.1*World.regionPickaxeInstruction[3],textnameToRegion[Textname.thanksForPlaying.name][2]=World.regionPickaxeInstruction[2]-1.1*World.regionPickaxeInstruction[3],textnameToRegion[Textname.thanksForPlaying.name][3]=.8*World.regionPickaxeInstruction[3];for(let p=0;p<4;p++)textnameToRegion[Textname.goldScore.name][p]=World.regionScore[p],textnameToRegion[Textname.goldLevel.name][p]=World.regionScore[p];let s=.15*World.regionScore[3];textnameToRegion[Textname.goldScore.name][1]+=s,textnameToRegion[Textname.goldLevel.name][1]+=s,textnameToRegion[Textname.goldScore.name][3]-=2*s,textnameToRegion[Textname.goldLevel.name][3]-=2*s,World.regionBranding[0]=World.regionPickaxeInstruction[0]+.1*World.regionPickaxeInstruction[3],World.regionBranding[1]=World.regionPickaxeInstruction[1]+.1*World.regionPickaxeInstruction[3],World.regionBranding[2]=.8*World.regionPickaxeInstruction[3],World.regionBranding[3]=.8*World.regionPickaxeInstruction[3];let B=[0,0,0],I=World.regionMap[0]+.5*World.regionMap[2],m=World.regionMap[1]+.5*World.regionMap[3],v=.15*Math.min(World.regionMap[2],World.regionMap[3]),w=.45*Math.min(World.regionMap[2],World.regionMap[3])-v,k=[.5*PIF,.1*PIF,.9*PIF,1.7*PIF,1.3*PIF];for(let S=0;S<5;S++)setWorldXYZFromDeviceXY(B,I+w*Math.cos(k[S]),m-w*Math.sin(k[S]),SHADE_Z+.1),World.dobsStarShadow[S].x=B[0],World.dobsStarShadow[S].y=B[1],World.dobsStarShadow[S].z=B[2],World.dobsStarShadow[S].scale=distFromZAndScreenDist(SHADE_Z+.1,v),setWorldXYZFromDeviceXY(B,I+w*Math.cos(k[S]),m-w*Math.sin(k[S]),SHADE_Z+1.1),World.dobsStar[S].x=B[0],World.dobsStar[S].y=B[1],World.dobsStar[S].z=B[2];for(World.dobsStarScaleOrig=1.1*distFromZAndScreenDist(SHADE_Z+1.1,v),setWorldXYZFromDeviceXY(World.offscreenXYZ,World.regionHand[0]+World.regionHand[2],World.regionHand[1]+.5*World.regionHand[3],GEM_Z),World.offscreenXYZ[0]+=2;World.dobsBorder.length>0;)World.dobsBorder.pop();if(isVerticalMode()){let W=.5*(World.viewHeight-World.regionHand[1]-World.regionHand[3]);World.regionHand[1]+=W,World.dobsBorder.push(DisplayObject());let f=[0,World.regionMap[1]+World.regionMap[3],World.viewWidth,W];setXYZSXSYFromRegionAndZ(World.dobsBorder[0],f,SCENE_0+.1),World.dobsBorder.push(DisplayObject());let T=[0,World.regionMap[1]-W,World.viewWidth,W];setXYZSXSYFromRegionAndZ(World.dobsBorder[1],T,SCENE_0+.1)}else{let b=.5*(World.viewWidth-World.regionHand[0]-World.regionHand[2]);World.regionHand[0]+=b;let F=[World.regionMap[0]+World.regionMap[2],0,b,World.viewHeight];World.dobsBorder.push(DisplayObject()),setXYZSXSYFromRegionAndZ(World.dobsBorder[0],F,SCENE_0+.1)}World.viewWidth>World.viewHeight?World.regionScore[3]*=.85:World.regionScore[3]*=.95,isVerticalMode()||(World.regionScore[0]+=.5*(World.viewWidth-World.regionScore[0]-World.regionScore[2]))}